(this["webpackJsonpamong-ot-sync"]=this["webpackJsonpamong-ot-sync"]||[]).push([[0],{114:function(n,e){},120:function(n,e,t){"use strict";t.r(e);var a=t(43),r=t(1),c=t.n(r),o=t(39),i=t.n(o),l=t(124),u=t(70),d=(t(78),t(16)),f=t(3),s=t(4);function m(){var n=Object(f.a)(["\n  height: 35px;\n"]);return m=function(){return n},n}var g=s.default.img(m());function b(n){var e=n.player;return c.a.createElement(g,{src:"crewmates/".concat(e.color).concat(e.alive?"":"_dead",".png"),alt:e.color})}function p(){var n=Object(f.a)(["\n    background-color: ",";\n    filter: ",";\n  "]);return p=function(){return n},n}function v(){var n=Object(f.a)(['\n  font-family: "Poppins";\n  font-weight: bold;\n  color: white;\n  border: none;\n  outline: white;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  height: 80px;\n  width: calc(50% - 5px);\n']);return v=function(){return n},n}var E={black:"#72808B",cyan:"#68B4A7",green:"#4E885D",orange:"#E2A45B",pink:"#F59CD8",purple:"#A171DF",yellow:"#E0E05B",lime:"#90DB84",red:"#DD6867",white:"#B3BED2",brown:"#A07E58",blue:"#576AD4"},h=s.default.button(v());function O(n){var e=n.player,t=n.loading,a=n.sendAliveUpdate,r=Object(s.default)(h)(p(),E[e.color],e.alive?"":"brightness(0.6)");return c.a.createElement(r,{disabled:t,onClick:function(){a(e.color,!e.alive)}},c.a.createElement(b,{player:e}),c.a.createElement("div",null,e.name))}function y(){var n=Object(f.a)(["\n  background-color: #e0e05b;\n"]);return y=function(){return n},n}function x(){var n=Object(f.a)(["\n  height: 10px;\n  width: 10px;\n  background-color: #6acc86;\n  border-radius: 50%;\n  display: inline-block;\n  margin-right: 5px;\n"]);return x=function(){return n},n}function S(){var n=Object(f.a)(['\n  font-family: "Poppins";\n  font-size: 14px;\n  text-transform: uppercase;\n  vertical-align: center;\n  margin-top: 30px;\n  margin-bottom: 30px;\n']);return S=function(){return n},n}var _=s.default.p(S()),j=s.default.span(x()),w=Object(s.default)(j)(y());function C(n){var e=n.channelName,t=n.reconnecting;return c.a.createElement(_,null,t?c.a.createElement("div",null,c.a.createElement(w,null)," Reconnecting..."):c.a.createElement("div",null,c.a.createElement(j,null)," Connected to ",c.a.createElement("b",null,e)))}function k(){var n=Object(f.a)(['\n  border: none;\n  height: 50px;\n  font-family: "Poppins";\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 27px;\n  color: #ffffff;\n  background-color: #505dd6;\n  border-radius: 25px;\n  margin-bottom: 10px;\n\n  &:hover {\n    background-color: #444fb6;\n  }\n\n  &:focus,\n  button:active {\n    border: none;\n  }\n\n  &:disabled {\n    background-color: #a7aeeb;\n  }\n']);return k=function(){return n},n}var T=t(4).default.button(k());function A(){var n=Object(f.a)(["\n  margin-right: 25px;\n  margin-left: 25px;\n  text-align: center;\n  width: 100%;\n  max-width: 330px;\n"]);return A=function(){return n},n}function D(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n"]);return D=function(){return n},n}var N=s.default.div(D()),P=s.default.div(A());function R(n){var e=n.children;return c.a.createElement(N,{key:"external"},c.a.createElement(P,{key:"internal"},e))}function I(){var n=Object(f.a)(["\n  align-items: center;\n"]);return I=function(){return n},n}function U(){var n=Object(f.a)(["\n  flex-wrap: wrap;\n"]);return U=function(){return n},n}function B(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return B=function(){return n},n}function K(){var n=Object(f.a)(["\n  width: calc(50% - 5px);\n"]);return K=function(){return n},n}function W(){var n=Object(f.a)(["\n  width: 100%;\n"]);return W=function(){return n},n}function L(){var n=Object(f.a)(["\n  height: 55px;\n  margin-top: 25px;\n"]);return L=function(){return n},n}var H=s.default.img(L()),V=Object(s.default)(T)(W()),z=Object(s.default)(T)(K()),J=s.default.div(B()),G=Object(s.default)(J)(U()),Y=s.default.div(I());var F=function(n){var e=n.gameState,t=n.sendStageUpdate,a=n.sendAliveUpdate,r=n.loading,o=n.reconnecting;return c.a.createElement(R,null,c.a.createElement(Y,null,c.a.createElement(H,{src:"icon.png",alt:"Among-ot Icon"})),c.a.createElement(C,{reconnecting:o,channelName:e.channel_name}),c.a.createElement(V,{disabled:"lobby"===e.game_stage||r,onClick:function(){t("lobby")}},"Lobby"),c.a.createElement("br",null),c.a.createElement(J,null,c.a.createElement(z,{disabled:"tasks"===e.game_stage||r,onClick:function(){t("tasks")}},"Tasks"),c.a.createElement(z,{disabled:"discussion"===e.game_stage||r,onClick:function(){t("discussion")}},"Discussion")),c.a.createElement("section",null,c.a.createElement("h2",null,"Players"),c.a.createElement(G,null,e.players.map((function(n){return c.a.createElement(O,{player:n,loading:r,sendAliveUpdate:a})})))))};function Z(n){var e=n.className;return c.a.createElement("div",{className:e},c.a.createElement("img",{src:"logo192.png",height:"110",alt:"Among-ot Icon"}),c.a.createElement("br",null))}var $=t(20);function q(){var n=Object(f.a)(['\n  text-transform: uppercase;\n  font-family: "Poppins";\n  font-size: 48px;\n  height: 80px;\n  width: 100%;\n  border-radius: 5px;\n  box-sizing: border-box;\n  border: 2px solid #b3b3b3;\n  text-align: center;\n  margin-bottom: 10px;\n  caret-color: transparent;\n  user-select: initial;\n\n  &::placeholder {\n    color: #d9d9d9;\n  }\n\n  &:focus::placeholder {\n    color: transparent;\n  }\n']);return q=function(){return n},n}var M=s.default.input(q());function Q(n){var e=n.syncId,t=n.setSyncId;return c.a.createElement(M,{key:"codeinput",placeholder:"ABC123",value:e,maxLength:$.a,onInput:function(n){n.target.value.length>$.a&&(n.target.value=n.target.value.slice(0,$.a)),t(n.target.value.toUpperCase())},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})}function X(){var n=Object(f.a)(["\n  width: 100%;\n"]);return X=function(){return n},n}var nn=Object(s.default)(T)(X());function en(n){var e=n.syncId,t=n.connectToGame,a=n.loading;return c.a.createElement(nn,{disabled:(e||"").length!==$.a||a,onClick:t},"Connect")}function tn(){var n=Object(f.a)(["\n  margin-right: 25px;\n  margin-left: 25px;\n  text-align: center;\n  align-self: center;\n  width: 100%;\n  max-width: 330px;\n"]);return tn=function(){return n},n}function an(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  height: 100vh;\n"]);return an=function(){return n},n}var rn=s.default.div(an()),cn=s.default.div(tn());function on(n){var e=n.children;return c.a.createElement(rn,{key:"external"},c.a.createElement(cn,{key:"internal"},e))}var ln=t(65),un=t.n(ln);function dn(){var n=Object(f.a)(["\n    background-color: ",";\n    width: 100%;\n    cursor: pointer;\n    ","\n\n    &:hover {\n      background-color: ",";\n    }\n\n    &:focus,\n    button:active {\n      border: none;\n    }\n  "]);return dn=function(){return n},n}function fn(n){var e=n.link,t=n.children,a=n.color,r=n.margin,o=Object(s.default)(T)(dn(),a,r?"margin-top: 20px;":"",un()(a).darken(.07));return c.a.createElement(o,{onClick:function(){window.open(e)}},t)}function sn(){var n=Object(f.a)(["\n  height: 15px;\n  margin-right: 10px;\n"]);return sn=function(){return n},n}var mn=s.default.img(sn());function gn(){return c.a.createElement(fn,{color:"#7289DA",link:"https:///",margin:!0},c.a.createElement(mn,{src:"discord.svg",alt:""}),"Add the bot to your server")}var bn=function(n){var e=n.syncId,t=n.setSyncId,a=n.connectToGame,r=n.loading;return c.a.createElement(on,{centerVertically:!0},c.a.createElement(Z,{className:"title"}),c.a.createElement("div",null,c.a.createElement(Q,{syncId:e,setSyncId:t}),c.a.createElement(en,{loading:r,syncId:e,connectToGame:a}),c.a.createElement(gn,null)))},pn=t(66),vn=t.n(pn),En=t(67);(new(t.n(En).a)).enable();var hn=function(){var n=window.location.pathname.split("/").join(""),e=Object(r.useState)(n),t=Object(d.a)(e,2),a=t[0],o=t[1],i=Object(r.useState)(!1),l=Object(d.a)(i,2),u=l[0],f=l[1],s=Object(r.useState)(!1),m=Object(d.a)(s,2),g=m[0],b=m[1],p=Object(r.useState)(),v=Object(d.a)(p,2),E=v[0],h=v[1],O=Object(r.useState)(!1),y=Object(d.a)(O,2),x=y[0],S=y[1],_=Object(r.useState)({sync_id:"",channel_name:"",game_stage:"lobby",players:[]}),j=Object(d.a)(_,2),w=j[0],C=j[1];return u?c.a.createElement(F,{gameState:w,reconnecting:g,sendAliveUpdate:function(n,e){S(!0),E.emit("setAlive",JSON.stringify({sync_id:w.sync_id,color:n,alive:e}))},sendStageUpdate:function(n){S(!0),E.emit("setStage",JSON.stringify({sync_id:w.sync_id,game_stage:n}))},loading:x}):c.a.createElement(bn,{syncId:a,setSyncId:o,connectToGame:function(){var n=vn()(Object({NODE_ENV:"production",PUBLIC_URL:"/among-ot-sync",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SYNC_SERVER_ADDRESS||"localhost:8081");S(!0),n.on("connect",(function(){n.emit("join",a)})),n.on("gameStateUpdate",(function(n){S(!1),f(!0),C(n)})),n.on("gameEnded",(function(){o(""),f(!1)})),n.on("connect_error",(function(){f(!1)})),n.on("connect_timeout",(function(){f(!1)})),n.on("disconnect",(function(){f(!1)})),n.on("reconnecting",(function(){b(!0)})),n.on("reconnect",(function(){b(!1)})),n.on("reconnect_failed",(function(){f(!1),b(!1)})),h(n)},loading:x})};l.a({dsn:Object({NODE_ENV:"production",PUBLIC_URL:"/among-ot-sync",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SENTRY_DSN,integrations:[new u.a.BrowserTracing({tracingOrigins:[Object({NODE_ENV:"production",PUBLIC_URL:"/among-ot-sync",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SYNC_SERVER_ADDRESS],beforeNavigate:function(n){return Object(a.a)(Object(a.a)({},n),{},{name:window.location.pathname.replace(/[A-Z0-9]{6}$/,"/")})}})],tracesSampleRate:1});var On=document.getElementById("root");On.hasChildNodes()?i.a.hydrate(c.a.createElement(hn,null),On):i.a.render(c.a.createElement(hn,null),On)},20:function(n){n.exports=JSON.parse('{"a":6}')},73:function(n,e,t){n.exports=t(120)},78:function(n,e,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.243d1420.chunk.js.map